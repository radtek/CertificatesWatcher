@* Generator : Template TypeVisibility : Internal GeneratePrettyNames : true *@
@using System.Collections.Generic
@using System.Security.Cryptography.X509Certificates
@using CertificatesWatcher

@functions {
    public string Title { get { return "Some certificates are expiring."; } }

    public string ServerName { get; set; }

    public ICollection<X509Certificate2> ExpiringCertificates { get; set; }
}
<p>Attention!</p>

<p>On server @ServerName is expiring following certificates:</p>

<div class="certificates"> 
@foreach (var cert in ExpiringCertificates)
{
    <p>
        @cert.GetOrganization() (@cert.GetNameInfo(X509NameType.SimpleName, false)) — @cert.NotAfter.ToString("dd.MM.yyyy HH:mm")
    </p>
}
</div>

<p>This message was auto generated by certificates watcher service.</p>